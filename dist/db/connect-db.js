"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DB = exports.PGDB = void 0;
const pg_1 = require("pg");
const dotenv_1 = require("dotenv");
(0, dotenv_1.config)();
// import { }
const getRepositories = (pg) => ({});
class PGDB {
    constructor() {
        this.pool = new pg_1.Pool({
            host: process.env.POSTGRES_HOST || "localhost",
            port: process.env.POSTGRES_PORT || 5432,
            user: process.env.POSTGRES_USER || "postgres",
            password: process.env.POSTGRES_PASSWORD,
            database: process.env.POSTGRES_DATABASE || "postgres",
        });
        this.repos = getRepositories(this.pool);
    }
    async initialize() {
        try {
            await this.pool.connect();
            return null;
        }
        catch (error) {
            return error;
        }
    }
}
exports.PGDB = PGDB;
exports.DB = new PGDB();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdC1kYi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYi9jb25uZWN0LWRiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJCQUFzQztBQUV0QyxtQ0FBZ0M7QUFDaEMsSUFBQSxlQUFNLEdBQUUsQ0FBQztBQUNULGFBQWE7QUFFYixNQUFNLGVBQWUsR0FBRyxDQUFDLEVBQXFCLEVBQW1CLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRXpFLE1BQWEsSUFBSTtJQUlmO1FBQ0UsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLFNBQUksQ0FBQztZQUNuQixJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLElBQUksV0FBVztZQUM5QyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLElBQUksSUFBSTtZQUN2QyxJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLElBQUksVUFBVTtZQUM3QyxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUI7WUFDdkMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLElBQUksVUFBVTtTQUN0RCxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsS0FBSyxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELEtBQUssQ0FBQyxVQUFVO1FBQ2QsSUFBSSxDQUFDO1lBQ0gsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzFCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUF4QkQsb0JBd0JDO0FBRVksUUFBQSxFQUFFLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvb2wsIFBvb2xDbGllbnQgfSBmcm9tIFwicGdcIjtcclxuaW1wb3J0IHsgSURCLCBJREJSZXBvc2l0b3JpZXMgfSBmcm9tIFwiLi9kYi1pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcImRvdGVudlwiO1xyXG5jb25maWcoKTtcclxuLy8gaW1wb3J0IHsgfVxyXG5cclxuY29uc3QgZ2V0UmVwb3NpdG9yaWVzID0gKHBnOiBQb29sQ2xpZW50IHwgUG9vbCk6IElEQlJlcG9zaXRvcmllcyA9PiAoe30pO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBHREIgaW1wbGVtZW50cyBJREIge1xyXG4gIHJlYWRvbmx5IHJlcG9zOiBJREJSZXBvc2l0b3JpZXM7XHJcblxyXG4gIHByaXZhdGUgcmVhZG9ubHkgcG9vbDogUG9vbDtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMucG9vbCA9IG5ldyBQb29sKHtcclxuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfSE9TVCB8fCBcImxvY2FsaG9zdFwiLFxyXG4gICAgICBwb3J0OiBwcm9jZXNzLmVudi5QT1NUR1JFU19QT1JUIHx8IDU0MzIsXHJcbiAgICAgIHVzZXI6IHByb2Nlc3MuZW52LlBPU1RHUkVTX1VTRVIgfHwgXCJwb3N0Z3Jlc1wiLFxyXG4gICAgICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuUE9TVEdSRVNfUEFTU1dPUkQsXHJcbiAgICAgIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5QT1NUR1JFU19EQVRBQkFTRSB8fCBcInBvc3RncmVzXCIsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlcG9zID0gZ2V0UmVwb3NpdG9yaWVzKHRoaXMucG9vbCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbml0aWFsaXplKCk6IFByb21pc2U8RXJyb3IgfCBudWxsPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCB0aGlzLnBvb2wuY29ubmVjdCgpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBEQiA9IG5ldyBQR0RCKCk7XHJcbiJdfQ==